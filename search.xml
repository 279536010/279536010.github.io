<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>test</title>
      <link href="2020/11/09/test/"/>
      <url>2020/11/09/test/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>name</title>
      <link href="2020/11/09/name/"/>
      <url>2020/11/09/name/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>windows-docker安装SeaTa</title>
      <link href="2020/11/06/docker-seata/"/>
      <url>2020/11/06/docker-seata/</url>
      
        <content type="html"><![CDATA[<ol><li><p>Windows安装Docker：<a href="https://www.runoob.com/docker/windows-docker-install.html(%E6%B3%A8%E6%84%8FWin10%E8%BF%98%E6%98%AFWin7)">https://www.runoob.com/docker/windows-docker-install.html(注意Win10还是Win7)</a></p></li><li><p>安装Seata可以自己选择安装版本打开cmd输入：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search seata </span><br></pre></td></tr></table></figure><p><img src="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\4d7e72b2d0024f93a74defe796ca817a\wps1.jpeg" class="lazyload" data-srcset="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\4d7e72b2d0024f93a74defe796ca817a\wps1.jpeg" srcset="data:image/png;base64,666" alt="img"></p></li><li><p>安装Sea按照name拉去镜像：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull seataio&#x2F;seata-server </span><br></pre></td></tr></table></figure><p><img src="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\114c717f628f4d70bfeec58db4e09de4\wps2.jpeg" class="lazyload" data-srcset="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\114c717f628f4d70bfeec58db4e09de4\wps2.jpeg" srcset="data:image/png;base64,666" alt="img"></p></li><li><p>本地创建一个文件夹作配置文件挂载（挂载可以不用敲命令改配置文件，直接改本地配置文件）</p><p><img src="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\533ba9b1c01d41a8aeca8727f3a31523\wps3.jpeg" class="lazyload" data-srcset="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\533ba9b1c01d41a8aeca8727f3a31523\wps3.jpeg" srcset="data:image/png;base64,666" alt="img"></p></li><li><p>创建2个文件名字：registry.conf、file.conf</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">registry &#123;</span><br><span class="line">     # file 、nacos 、eureka、redis、zk、consul、etcd3、sofa(选择注册中心)</span><br><span class="line">     type = <span class="string">&quot;eureka&quot;</span></span><br><span class="line">    </span><br><span class="line">     nacos &#123;</span><br><span class="line">       application = <span class="string">&quot;seata-server&quot;</span></span><br><span class="line">       serverAddr = <span class="string">&quot;localhost&quot;</span></span><br><span class="line">       namespace = <span class="string">&quot;&quot;</span></span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       username = <span class="string">&quot;&quot;</span></span><br><span class="line">       password = <span class="string">&quot;&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">   #配置eureka地址。（注意此处如果需要本地eureka不能填127.0.0.1需要本地ip地址。）</span><br><span class="line">     eureka &#123;</span><br><span class="line">       serviceUrl = <span class="string">&quot;http://admin:123456@127.0.0.1:8761/eureka&quot;</span></span><br><span class="line">       application = <span class="string">&quot;default&quot;</span></span><br><span class="line">       weight = <span class="string">&quot;1&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     redis &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;localhost:6379&quot;</span></span><br><span class="line">       db = <span class="number">0</span></span><br><span class="line">       password = <span class="string">&quot;&quot;</span></span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       timeout = <span class="number">0</span></span><br><span class="line">     &#125;</span><br><span class="line">     zk &#123;</span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       serverAddr = <span class="string">&quot;127.0.0.1:2181&quot;</span></span><br><span class="line">       sessionTimeout = <span class="number">6000</span></span><br><span class="line">       connectTimeout = <span class="number">2000</span></span><br><span class="line">       username = <span class="string">&quot;&quot;</span></span><br><span class="line">       password = <span class="string">&quot;&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     consul &#123;</span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       serverAddr = <span class="string">&quot;127.0.0.1:8500&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     etcd3 &#123;</span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       serverAddr = <span class="string">&quot;http://localhost:2379&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     sofa &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;127.0.0.1:9603&quot;</span></span><br><span class="line">       application = <span class="string">&quot;default&quot;</span></span><br><span class="line">       region = <span class="string">&quot;DEFAULT_ZONE&quot;</span></span><br><span class="line">       datacenter = <span class="string">&quot;DefaultDataCenter&quot;</span></span><br><span class="line">       cluster = <span class="string">&quot;default&quot;</span></span><br><span class="line">       group = <span class="string">&quot;SEATA_GROUP&quot;</span></span><br><span class="line">       addressWaitTime = <span class="string">&quot;3000&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     file &#123;</span><br><span class="line">       name = <span class="string">&quot;file.conf&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">   config &#123;</span><br><span class="line">     # file、nacos 、apollo、zk、consul、etcd3</span><br><span class="line">     type = <span class="string">&quot;file&quot;</span></span><br><span class="line">   </span><br><span class="line">     nacos &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;localhost&quot;</span></span><br><span class="line">       namespace = <span class="string">&quot;&quot;</span></span><br><span class="line">       group = <span class="string">&quot;SEATA_GROUP&quot;</span></span><br><span class="line">       username = <span class="string">&quot;&quot;</span></span><br><span class="line">       password = <span class="string">&quot;&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     consul &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;127.0.0.1:8500&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     apollo &#123;</span><br><span class="line">       appId = <span class="string">&quot;seata-server&quot;</span></span><br><span class="line">       apolloMeta = <span class="string">&quot;http://192.168.1.204:8801&quot;</span></span><br><span class="line">       namespace = <span class="string">&quot;application&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     zk &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;127.0.0.1:2181&quot;</span></span><br><span class="line">       sessionTimeout = <span class="number">6000</span></span><br><span class="line">       connectTimeout = <span class="number">2000</span></span><br><span class="line">       username = <span class="string">&quot;&quot;</span></span><br><span class="line">       password = <span class="string">&quot;&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     etcd3 &#123;</span><br><span class="line">       serverAddr = <span class="string">&quot;http://localhost:2379&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">     file &#123;</span><br><span class="line">       name = <span class="string">&quot;file.conf&quot;</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">## transaction log store, only used in seata-server</span><br><span class="line">   store &#123;</span><br><span class="line">     ## store mode: file、db</span><br><span class="line">     mode = <span class="string">&quot;db&quot;</span></span><br><span class="line">    </span><br><span class="line">     ## file store property</span><br><span class="line">     file &#123;</span><br><span class="line">       ## store location dir</span><br><span class="line">       dir = <span class="string">&quot;sessionStore&quot;</span></span><br><span class="line">       # branch session size , if exceeded first try compress lockkey, still exceeded throws exceptions</span><br><span class="line">       maxBranchSessionSize = <span class="number">16384</span></span><br><span class="line">       # globe session size , if exceeded throws exceptions</span><br><span class="line">       maxGlobalSessionSize = <span class="number">512</span></span><br><span class="line">       # file buffer size , if exceeded allocate new buffer</span><br><span class="line">       fileWriteBufferCacheSize = <span class="number">16384</span></span><br><span class="line">       # when recover batch read size</span><br><span class="line">       sessionReloadReadSize = <span class="number">100</span></span><br><span class="line">       # async, sync</span><br><span class="line">       flushDiskMode = async</span><br><span class="line">     &#125;</span><br><span class="line">    </span><br><span class="line">     ## database store property  配置数据库信息（当前为开发环境数据库）。</span><br><span class="line">     db &#123;</span><br><span class="line">       ## the implement of javax.sql.DataSource, such as DruidDataSource(druid)/BasicDataSource(dbcp) etc.</span><br><span class="line">       datasource = <span class="string">&quot;druid&quot;</span></span><br><span class="line">       ## mysql/oracle/postgresql/h2/oceanbase etc.</span><br><span class="line">       dbType = <span class="string">&quot;mysql&quot;</span></span><br><span class="line">       driverClassName = <span class="string">&quot;com.mysql.jdbc.Driver&quot;</span></span><br><span class="line">       url = <span class="string">&quot;jdbc:mysql://192.168.1.147:3306/funeral&quot;</span></span><br><span class="line">       user = <span class="string">&quot;root&quot;</span></span><br><span class="line">       password = <span class="string">&quot;Ddrb@123&quot;</span></span><br><span class="line">       minConn = <span class="number">5</span></span><br><span class="line">       maxConn = <span class="number">30</span></span><br><span class="line">       globalTable = <span class="string">&quot;global_table&quot;</span></span><br><span class="line">       branchTable = <span class="string">&quot;branch_table&quot;</span></span><br><span class="line">       lockTable = <span class="string">&quot;lock_table&quot;</span></span><br><span class="line">       queryLimit = <span class="number">100</span></span><br><span class="line">       maxWait = <span class="number">5000</span></span><br><span class="line">     &#125;</span><br><span class="line">   &#125;   </span><br></pre></td></tr></table></figure></li><li><p>启动docker容器。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name -seata-server -p 8091:8091 -e SEATA_IP&#x3D;192.168.0.223 -e SEATA_CONFIG_NAME&#x3D;file:&#x2F;root&#x2F;seata-config&#x2F;registry -v &#x2F;e&#x2F;docker&#x2F;seata:&#x2F;root&#x2F;seata-config seataio&#x2F;seata-server </span><br></pre></td></tr></table></figure><p>-e SEATA_IP=192.168.0.223<br>指定seata-server启动的IP, 该IP用于向注册中心注册时使用：改为本地ip地址</p><p>-e SEATA_CONFIG_NAME=file:/root/seata-config/registry </p><p>指定配置文件位置，将加载/root/seata-config/registry.conf作为配置文件。</p><p>指定file.conf文件则在registry.conf文件中confi配置修改。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">config &#123;</span><br><span class="line">  type &#x3D; &quot;file&quot;</span><br><span class="line">  file &#123;</span><br><span class="line">    name &#x3D; &quot;file:&#x2F;root&#x2F;seata-config&#x2F;file.conf&quot;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>-v /e/docker/seata:/root/seata-config</p><p>注：用于挂载宿主机的目录         -v 本地目录:docker容器目录</p></li></ol><ol start="7"><li><p>如果不挂载也可以直接编辑seata内部配置。（相对繁琐）</p><ul><li>查询所有运行容器</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps  </span><br></pre></td></tr></table></figure><p><img src="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\ea1a0d3e552c40ab8d06c882a263ef1d\clipboard.png" class="lazyload" data-srcset="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\ea1a0d3e552c40ab8d06c882a263ef1d\clipboard.png" srcset="data:image/png;base64,666" alt="img"></p><ul><li><p>进入容器</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it seata-server bash</span><br></pre></td></tr></table></figure><p><img src="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\f40b77a095e749ee9b5c87a81c2d84b4\clipboard.png" class="lazyload" data-srcset="E:\YNote_local\qq7620497BFCC0DE82295CD5801BD695CF\f40b77a095e749ee9b5c87a81c2d84b4\clipboard.png" srcset="data:image/png;base64,666" alt="img"></p></li><li><p>编辑文件（没有vim需要安装）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi registry.conf  &#x2F;&#x2F;编辑文件</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;顺序别反</span><br><span class="line">apt-get update    &#x2F;&#x2F;更新软件列表</span><br><span class="line">apt-get install -y vim &#x2F;&#x2F;下载vim </span><br></pre></td></tr></table></figure></li></ul></li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="2020/11/06/hello-world/"/>
      <url>2020/11/06/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
